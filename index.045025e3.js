let e,t,a;var i=globalThis,n={},s={},d=i.parcelRequired7c6;null==d&&((d=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},i.parcelRequired7c6=d),d.register,d("4l9KP");const o=document.querySelectorAll(".team-link"),c=document.querySelectorAll("[data-modal-team-close]"),l=document.querySelector(".modal-team-container"),r=document.querySelector(".modal-team-backdrop");function m(){l.classList.toggle("is-hidden"),r.classList.toggle("is-hidden")}o.forEach(e=>{e.addEventListener("click",m)}),c.forEach(e=>{e.addEventListener("click",m)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(l.classList.add("is-hidden"),r.classList.add("is-hidden"))}),document.addEventListener("click",e=>{e.target===l&&(l.classList.add("is-hidden"),r.classList.add("is-hidden"))}),d("40lI0");var u=d("lzX4I"),p=d("4l9KP"),v=d("40lI0");const h=document.querySelector(".movie-gallery");document.querySelector(".movie-items");const L=document.querySelector(".page-btn.prev"),g=document.querySelector(".page-btn.next"),f=document.querySelector(".pagination-container"),y=document.querySelector(".main-header-input"),E=document.querySelector(".main-header-form"),b=document.querySelector(".main-header-fail");document.querySelector(".main-header-submit");const q=document.querySelector(".loader");function S(){q.classList.add("hidden"),h.classList.remove("hidden"),f.classList.remove("hidden"),L.classList.remove("hidden"),g.classList.remove("hidden")}function w(){q.classList.remove("hidden"),h.classList.add("hidden"),f.classList.add("hidden"),L.classList.add("hidden"),g.classList.add("hidden")}let k=1,x={...p.popularOptions};function _(){let e=document.querySelectorAll(".movie-card-template");e.length?[...e].forEach(e=>{e.addEventListener("click",v.openModal)}):setTimeout(_,1e3)}async function C(){(x={...p.popularOptions}).params.page=k,t=await (0,p.searchPopular)(),a=await (0,p.genresList)(),w(),T(t),_()}async function M(i){1===k&&i.preventDefault(),b.style.opacity=0,(x={...p.searchOptions}).params.page=k,console.log(e=y.value.trim().split(" ").join("20%")),x.params.query=e,console.log(t=await (0,p.searchMovie)()),a=await (0,p.genresList)(),0===t.length&&(b.style.opacity=1),w(),T(t),_(),y.value=""}function T(e){document.querySelector("#movie-items").innerHTML="";let t=e.map(({poster_path:e,title:t,vote_average:i,release_date:n,genre_ids:s,id:d})=>{let o={},c=[];return a.map(e=>(o[e.id]=e.name,s.includes(e.id)&&c.push(e.name),c)),`
    <div class="movie-card-template" data-modal-open-window>
    <h2 id="movie-id" class="is-hidden">${d}</h2>
    <a class="movie-image">
    <img class="movie-image-detail"
    src="https://image.tmdb.org/t/p/w500${e}?api_key=a53cba9b0d8796262c7859f0f1e4d0eb"
    onerror="this.src='https://cdn.pixabay.com/photo/2019/04/24/21/55/cinema-4153289_960_720.jpg';"
    alt="film-poster" />
    </a>
    <div class="movie-info">
    <p class="movie-name">${t}</p>
    <div class="tags-grade-wrap">
    <p class="movie-tags-year">${c.slice(0,3).join(", ")} | ${n.slice(0,4)}</p>
    <p class="movie-grade">${i.toFixed(1)}</p>
    </div>
    </div>
    </div>`}).join("");h.insertAdjacentHTML("beforeend",t),setTimeout(S,1e3)}function O(){if(f.innerHTML="",k>=1&&k<=3)for(let e=1;e<=5;e++){let t=document.createElement("button");t.textContent=e,t.classList.add("page-btn"),e===k&&t.classList.add("active"),t.addEventListener("click",()=>{k=e,x.params.page=k,""===y.value?C():M(),O()}),f.appendChild(t)}if(k>=4){let e=document.createElement("button");if(e.textContent=1,e.classList.add("page-btn"),f.appendChild(e),e.addEventListener("click",()=>{k=1,x.params.page=k,""===y.value?C():M(),O()}),k>=5){let e=document.createElement("button");e.textContent="...",e.classList.add("page-btn"),f.appendChild(e)}for(let e=1;e<=5;e++){let t=document.createElement("button");t.textContent=e-3+k,t.classList.add("page-btn"),3===e&&t.classList.add("active"),t.addEventListener("click",()=>{k=e+k-3,x.params.page=k,""===y.value?C():M(),O()}),f.appendChild(t)}}}E.addEventListener("submit",M),L.addEventListener("click",function(){k>1&&(k--,""===y.value?C():M(),O())}),g.addEventListener("click",function(){if(k<=50)k++,""===y.value?C():M(),O();else{(u&&u.__esModule?u.default:u).Notify.failure("Sorry, there are no more pages");return}}),async function(){await C(),O()}();const $=document.querySelector(".scroll-top");window.addEventListener("scroll",()=>{window.scrollY>250?$.classList.add("active"):$.classList.remove("active")});
//# sourceMappingURL=index.045025e3.js.map
